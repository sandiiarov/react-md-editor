{"version":3,"file":"static/js/82.9cbaca0b.chunk.js","mappings":"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","sources":["../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-line.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-polygon.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-rect.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-html-label.js","../../node_modules/dagre-d3-es/src/dagre-js/util.js","../../node_modules/lodash-es/clone.js","../../node_modules/dagre-d3-es/src/graphlib/json.js","../../node_modules/dagre-d3-es/src/dagre-js/arrows.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-label.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-svg-label.js","../../node_modules/dagre-d3-es/src/dagre-js/label/add-text-label.js","../../node_modules/dagre-d3-es/src/dagre-js/create-clusters.js","../../node_modules/dagre-d3-es/src/dagre-js/create-edge-labels.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-node.js","../../node_modules/dagre-d3-es/src/dagre-js/create-edge-paths.js","../../node_modules/dagre-d3-es/src/dagre-js/create-nodes.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-ellipse.js","../../node_modules/dagre-d3-es/src/dagre-js/shapes.js","../../node_modules/dagre-d3-es/src/dagre-js/intersect/intersect-circle.js","../../node_modules/dagre-d3-es/src/dagre-js/render.js","../../node_modules/dagre-d3-es/src/dagre-js/position-nodes.js","../../node_modules/dagre-d3-es/src/dagre-js/position-edge-labels.js","../../node_modules/dagre-d3-es/src/dagre-js/position-clusters.js","../../node_modules/khroma/dist/methods/channel.js"],"sourcesContent":["export { intersectLine };\n\n/*\n * Returns the point at which two lines, p and q, intersect or returns\n * undefined if they do not intersect.\n */\nfunction intersectLine(p1, p2, q1, q2) {\n  // Algorithm from J. Avro, (ed.) Graphics Gems, No 2, Morgan Kaufmann, 1994,\n  // p7 and p473.\n\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n\n  // Compute a1, b1, c1, where line joining points 1 and 2 is F(x,y) = a1 x +\n  // b1 y + c1 = 0.\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n\n  // Compute r3 and r4.\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n\n  // Check signs of r3 and r4. If both point 3 and point 4 lie on\n  // same side of line 1, the line segments do not intersect.\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Compute a2, b2, c2 where line joining points 3 and 4 is G(x,y) = a2 x + b2 y + c2 = 0\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n\n  // Compute r1 and r2\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n\n  // Check signs of r1 and r2. If both point 1 and point 2 lie\n  // on same side of second line segment, the line segments do\n  // not intersect.\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return /*DONT_INTERSECT*/;\n  }\n\n  // Line segments intersect: compute intersection point.\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return /*COLLINEAR*/;\n  }\n\n  offset = Math.abs(denom / 2);\n\n  // The denom/2 is to get rounding instead of truncating. It\n  // is added or subtracted to the numerator, depending upon the\n  // sign of the numerator.\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n\n  return { x: x, y: y };\n}\n\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n","import { intersectLine } from './intersect-line.js';\n\nexport { intersectPolygon };\n\n/*\n * Returns the point ({x, y}) at which the point argument intersects with the\n * node argument assuming that it has the shape specified by polygon.\n */\nfunction intersectPolygon(node, polyPoints, point) {\n  var x1 = node.x;\n  var y1 = node.y;\n\n  var intersections = [];\n\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  polyPoints.forEach(function (entry) {\n    minX = Math.min(minX, entry.x);\n    minY = Math.min(minY, entry.y);\n  });\n\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersectLine(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n\n  if (!intersections.length) {\n    console.log('NO INTERSECTION FOUND, RETURN NODE CENTER', node);\n    return node;\n  }\n\n  if (intersections.length > 1) {\n    // More intersections, find the one nearest to edge end point\n    intersections.sort(function (p, q) {\n      var pdx = p.x - point.x;\n      var pdy = p.y - point.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n\n      var qdx = q.x - point.x;\n      var qdy = q.y - point.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n","export { intersectRect };\n\nfunction intersectRect(node, point) {\n  var x = node.x;\n  var y = node.y;\n\n  // Rectangle intersection algorithm from:\n  // http://math.stackexchange.com/questions/108113/find-edge-between-two-boxes\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    // Intersection is top or bottom of rect.\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : (h * dx) / dy;\n    sy = h;\n  } else {\n    // Intersection is left or right of rect.\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : (w * dy) / dx;\n  }\n\n  return { x: x + sx, y: y + sy };\n}\n","import * as util from '../util.js';\n\nexport { addHtmlLabel };\n\nfunction addHtmlLabel(root, node) {\n  var fo = root.append('foreignObject').attr('width', '100000');\n\n  var div = fo.append('xhtml:div');\n  div.attr('xmlns', 'http://www.w3.org/1999/xhtml');\n\n  var label = node.label;\n  switch (typeof label) {\n    case 'function':\n      div.insert(label);\n      break;\n    case 'object':\n      // Currently we assume this is a DOM object.\n      div.insert(function () {\n        return label;\n      });\n      break;\n    default:\n      div.html(label);\n  }\n\n  util.applyStyle(div, node.labelStyle);\n  div.style('display', 'inline-block');\n  // Fix for firefox\n  div.style('white-space', 'nowrap');\n\n  var client = div.node().getBoundingClientRect();\n  fo.attr('width', client.width).attr('height', client.height);\n\n  return fo;\n}\n","import * as _ from 'lodash-es';\n\n// Public utility functions\nexport { isSubgraph, edgeToId, applyStyle, applyClass, applyTransition };\n\n/*\n * Returns true if the specified node in the graph is a subgraph node. A\n * subgraph node is one that contains other nodes.\n */\nfunction isSubgraph(g, v) {\n  return !!g.children(v).length;\n}\n\nfunction edgeToId(e) {\n  return escapeId(e.v) + ':' + escapeId(e.w) + ':' + escapeId(e.name);\n}\n\nvar ID_DELIM = /:/g;\nfunction escapeId(str) {\n  return str ? String(str).replace(ID_DELIM, '\\\\:') : '';\n}\n\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr('style', styleFn);\n  }\n}\n\nfunction applyClass(dom, classFn, otherClasses) {\n  if (classFn) {\n    dom.attr('class', classFn).attr('class', otherClasses + ' ' + dom.attr('class'));\n  }\n}\n\nfunction applyTransition(selection, g) {\n  var graph = g.graph();\n\n  if (_.isPlainObject(graph)) {\n    var transition = graph.transition;\n    if (_.isFunction(transition)) {\n      return transition(selection);\n    }\n  }\n\n  return selection;\n}\n","import baseClone from './_baseClone.js';\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * Creates a shallow clone of `value`.\n *\n * **Note:** This method is loosely based on the\n * [structured clone algorithm](https://mdn.io/Structured_clone_algorithm)\n * and supports cloning arrays, array buffers, booleans, date objects, maps,\n * numbers, `Object` objects, regexes, sets, strings, symbols, and typed\n * arrays. The own enumerable properties of `arguments` objects are cloned\n * as plain objects. An empty object is returned for uncloneable values such\n * as error objects, functions, DOM nodes, and WeakMaps.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to clone.\n * @returns {*} Returns the cloned value.\n * @see _.cloneDeep\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var shallow = _.clone(objects);\n * console.log(shallow[0] === objects[0]);\n * // => true\n */\nfunction clone(value) {\n  return baseClone(value, CLONE_SYMBOLS_FLAG);\n}\n\nexport default clone;\n","import * as _ from 'lodash-es';\nimport { Graph } from './graph.js';\n\nexport { write, read };\n\nfunction write(g) {\n  var json = {\n    options: {\n      directed: g.isDirected(),\n      multigraph: g.isMultigraph(),\n      compound: g.isCompound(),\n    },\n    nodes: writeNodes(g),\n    edges: writeEdges(g),\n  };\n  if (!_.isUndefined(g.graph())) {\n    json.value = _.clone(g.graph());\n  }\n  return json;\n}\n\nfunction writeNodes(g) {\n  return _.map(g.nodes(), function (v) {\n    var nodeValue = g.node(v);\n    var parent = g.parent(v);\n    var node = { v: v };\n    if (!_.isUndefined(nodeValue)) {\n      node.value = nodeValue;\n    }\n    if (!_.isUndefined(parent)) {\n      node.parent = parent;\n    }\n    return node;\n  });\n}\n\nfunction writeEdges(g) {\n  return _.map(g.edges(), function (e) {\n    var edgeValue = g.edge(e);\n    var edge = { v: e.v, w: e.w };\n    if (!_.isUndefined(e.name)) {\n      edge.name = e.name;\n    }\n    if (!_.isUndefined(edgeValue)) {\n      edge.value = edgeValue;\n    }\n    return edge;\n  });\n}\n\nfunction read(json) {\n  var g = new Graph(json.options).setGraph(json.value);\n  _.each(json.nodes, function (entry) {\n    g.setNode(entry.v, entry.value);\n    if (entry.parent) {\n      g.setParent(entry.v, entry.parent);\n    }\n  });\n  _.each(json.edges, function (entry) {\n    g.setEdge({ v: entry.v, w: entry.w, name: entry.name }, entry.value);\n  });\n  return g;\n}\n","import * as util from './util.js';\n\nexport { arrows, setArrows };\n\nvar arrows = {\n  normal,\n  vee,\n  undirected,\n};\n\nfunction setArrows(value) {\n  arrows = value;\n}\n\nfunction normal(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 z')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n\nfunction vee(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 0 L 10 5 L 0 10 L 4 5 z')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n\nfunction undirected(parent, id, edge, type) {\n  var marker = parent\n    .append('marker')\n    .attr('id', id)\n    .attr('viewBox', '0 0 10 10')\n    .attr('refX', 9)\n    .attr('refY', 5)\n    .attr('markerUnits', 'strokeWidth')\n    .attr('markerWidth', 8)\n    .attr('markerHeight', 6)\n    .attr('orient', 'auto');\n\n  var path = marker\n    .append('path')\n    .attr('d', 'M 0 5 L 10 5')\n    .style('stroke-width', 1)\n    .style('stroke-dasharray', '1,0');\n  util.applyStyle(path, edge[type + 'Style']);\n  if (edge[type + 'Class']) {\n    path.attr('class', edge[type + 'Class']);\n  }\n}\n","import { addHtmlLabel } from './add-html-label.js';\nimport { addSVGLabel } from './add-svg-label.js';\nimport { addTextLabel } from './add-text-label.js';\n\nexport { addLabel };\n\nfunction addLabel(root, node, location) {\n  var label = node.label;\n  var labelSvg = root.append('g');\n\n  // Allow the label to be a string, a function that returns a DOM element, or\n  // a DOM element itself.\n  if (node.labelType === 'svg') {\n    addSVGLabel(labelSvg, node);\n  } else if (typeof label !== 'string' || node.labelType === 'html') {\n    addHtmlLabel(labelSvg, node);\n  } else {\n    addTextLabel(labelSvg, node);\n  }\n\n  var labelBBox = labelSvg.node().getBBox();\n  var y;\n  switch (location) {\n    case 'top':\n      y = -node.height / 2;\n      break;\n    case 'bottom':\n      y = node.height / 2 - labelBBox.height;\n      break;\n    default:\n      y = -labelBBox.height / 2;\n  }\n  labelSvg.attr('transform', 'translate(' + -labelBBox.width / 2 + ',' + y + ')');\n\n  return labelSvg;\n}\n","import * as util from '../util.js';\n\nexport { addSVGLabel };\n\nfunction addSVGLabel(root, node) {\n  var domNode = root;\n\n  domNode.node().appendChild(node.label);\n\n  util.applyStyle(domNode, node.labelStyle);\n\n  return domNode;\n}\n","import * as util from '../util.js';\n\nexport { addTextLabel };\n\n/*\n * Attaches a text label to the specified root. Handles escape sequences.\n */\nfunction addTextLabel(root, node) {\n  var domNode = root.append('text');\n\n  var lines = processEscapeSequences(node.label).split('\\n');\n  for (var i = 0; i < lines.length; i++) {\n    domNode\n      .append('tspan')\n      .attr('xml:space', 'preserve')\n      .attr('dy', '1em')\n      .attr('x', '1')\n      .text(lines[i]);\n  }\n\n  util.applyStyle(domNode, node.labelStyle);\n\n  return domNode;\n}\n\nfunction processEscapeSequences(text) {\n  var newText = '';\n  var escaped = false;\n  var ch;\n  for (var i = 0; i < text.length; ++i) {\n    ch = text[i];\n    if (escaped) {\n      switch (ch) {\n        case 'n':\n          newText += '\\n';\n          break;\n        default:\n          newText += ch;\n      }\n      escaped = false;\n    } else if (ch === '\\\\') {\n      escaped = true;\n    } else {\n      newText += ch;\n    }\n  }\n  return newText;\n}\n","import * as d3 from 'd3';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createClusters, setCreateClusters };\n\nvar createClusters = function (selection, g) {\n  var clusters = g.nodes().filter(function (v) {\n    return util.isSubgraph(g, v);\n  });\n  var svgClusters = selection.selectAll('g.cluster').data(clusters, function (v) {\n    return v;\n  });\n\n  util.applyTransition(svgClusters.exit(), g).style('opacity', 0).remove();\n\n  var enterSelection = svgClusters\n    .enter()\n    .append('g')\n    .attr('class', 'cluster')\n    .attr('id', function (v) {\n      var node = g.node(v);\n      return node.id;\n    })\n    .style('opacity', 0)\n    .each(function (v) {\n      var node = g.node(v);\n      var thisGroup = d3.select(this);\n      d3.select(this).append('rect');\n      var labelGroup = thisGroup.append('g').attr('class', 'label');\n      addLabel(labelGroup, node, node.clusterLabelPos);\n    });\n\n  svgClusters = svgClusters.merge(enterSelection);\n\n  svgClusters = util.applyTransition(svgClusters, g).style('opacity', 1);\n\n  svgClusters.selectAll('rect').each(function (c) {\n    var node = g.node(c);\n    var domCluster = d3.select(this);\n    util.applyStyle(domCluster, node.style);\n  });\n\n  return svgClusters;\n};\n\nfunction setCreateClusters(value) {\n  createClusters = value;\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createEdgeLabels, setCreateEdgeLabels };\n\nlet createEdgeLabels = function (selection, g) {\n  var svgEdgeLabels = selection\n    .selectAll('g.edgeLabel')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  svgEdgeLabels.exit().remove();\n  svgEdgeLabels.enter().append('g').classed('edgeLabel', true).style('opacity', 0);\n\n  svgEdgeLabels = selection.selectAll('g.edgeLabel');\n\n  svgEdgeLabels.each(function (e) {\n    var root = d3.select(this);\n    root.select('.label').remove();\n    var edge = g.edge(e);\n    var label = addLabel(root, g.edge(e), 0).classed('label', true);\n    var bbox = label.node().getBBox();\n\n    if (edge.labelId) {\n      label.attr('id', edge.labelId);\n    }\n    if (!_.has(edge, 'width')) {\n      edge.width = bbox.width;\n    }\n    if (!_.has(edge, 'height')) {\n      edge.height = bbox.height;\n    }\n  });\n\n  var exitSelection;\n\n  if (svgEdgeLabels.exit) {\n    exitSelection = svgEdgeLabels.exit();\n  } else {\n    exitSelection = svgEdgeLabels.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgEdgeLabels;\n};\n\nfunction setCreateEdgeLabels(value) {\n  createEdgeLabels = value;\n}\n","export { intersectNode };\n\nfunction intersectNode(node, point) {\n  return node.intersect(point);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { intersectNode } from './intersect/intersect-node.js';\nimport * as util from './util.js';\n\nexport { createEdgePaths, setCreateEdgePaths };\n\nvar createEdgePaths = function (selection, g, arrows) {\n  var previousPaths = selection\n    .selectAll('g.edgePath')\n    .data(g.edges(), function (e) {\n      return util.edgeToId(e);\n    })\n    .classed('update', true);\n\n  var newPaths = enter(previousPaths, g);\n  exit(previousPaths, g);\n\n  var svgPaths = previousPaths.merge !== undefined ? previousPaths.merge(newPaths) : previousPaths;\n  util.applyTransition(svgPaths, g).style('opacity', 1);\n\n  // Save DOM element in the path group, and set ID and class\n  svgPaths.each(function (e) {\n    var domEdge = d3.select(this);\n    var edge = g.edge(e);\n    edge.elem = this;\n\n    if (edge.id) {\n      domEdge.attr('id', edge.id);\n    }\n\n    util.applyClass(\n      domEdge,\n      edge['class'],\n      (domEdge.classed('update') ? 'update ' : '') + 'edgePath'\n    );\n  });\n\n  svgPaths.selectAll('path.path').each(function (e) {\n    var edge = g.edge(e);\n    edge.arrowheadId = _.uniqueId('arrowhead');\n\n    var domEdge = d3\n      .select(this)\n      .attr('marker-end', function () {\n        return 'url(' + makeFragmentRef(location.href, edge.arrowheadId) + ')';\n      })\n      .style('fill', 'none');\n\n    util.applyTransition(domEdge, g).attr('d', function (e) {\n      return calcPoints(g, e);\n    });\n\n    util.applyStyle(domEdge, edge.style);\n  });\n\n  svgPaths.selectAll('defs *').remove();\n  svgPaths.selectAll('defs').each(function (e) {\n    var edge = g.edge(e);\n    var arrowhead = arrows[edge.arrowhead];\n    arrowhead(d3.select(this), edge.arrowheadId, edge, 'arrowhead');\n  });\n\n  return svgPaths;\n};\n\nfunction setCreateEdgePaths(value) {\n  createEdgePaths = value;\n}\n\nfunction makeFragmentRef(url, fragmentId) {\n  var baseUrl = url.split('#')[0];\n  return baseUrl + '#' + fragmentId;\n}\n\nfunction calcPoints(g, e) {\n  var edge = g.edge(e);\n  var tail = g.node(e.v);\n  var head = g.node(e.w);\n  var points = edge.points.slice(1, edge.points.length - 1);\n  points.unshift(intersectNode(tail, points[0]));\n  points.push(intersectNode(head, points[points.length - 1]));\n\n  return createLine(edge, points);\n}\n\nfunction createLine(edge, points) {\n  // @ts-expect-error\n  var line = (d3.line || d3.svg.line)()\n    .x(function (d) {\n      return d.x;\n    })\n    .y(function (d) {\n      return d.y;\n    });\n\n  (line.curve || line.interpolate)(edge.curve);\n\n  return line(points);\n}\n\nfunction getCoords(elem) {\n  var bbox = elem.getBBox();\n  var matrix = elem.ownerSVGElement\n    .getScreenCTM()\n    .inverse()\n    .multiply(elem.getScreenCTM())\n    .translate(bbox.width / 2, bbox.height / 2);\n  return { x: matrix.e, y: matrix.f };\n}\n\nfunction enter(svgPaths, g) {\n  var svgPathsEnter = svgPaths.enter().append('g').attr('class', 'edgePath').style('opacity', 0);\n  svgPathsEnter\n    .append('path')\n    .attr('class', 'path')\n    .attr('d', function (e) {\n      var edge = g.edge(e);\n      var sourceElem = g.node(e.v).elem;\n      var points = _.range(edge.points.length).map(function () {\n        return getCoords(sourceElem);\n      });\n      return createLine(edge, points);\n    });\n  svgPathsEnter.append('defs');\n  return svgPathsEnter;\n}\n\nfunction exit(svgPaths, g) {\n  var svgPathExit = svgPaths.exit();\n  util.applyTransition(svgPathExit, g).style('opacity', 0).remove();\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { addLabel } from './label/add-label.js';\nimport * as util from './util.js';\n\nexport { createNodes, setCreateNodes };\n\nvar createNodes = function (selection, g, shapes) {\n  var simpleNodes = g.nodes().filter(function (v) {\n    return !util.isSubgraph(g, v);\n  });\n  var svgNodes = selection\n    .selectAll('g.node')\n    .data(simpleNodes, function (v) {\n      return v;\n    })\n    .classed('update', true);\n\n  svgNodes.exit().remove();\n\n  svgNodes.enter().append('g').attr('class', 'node').style('opacity', 0);\n\n  svgNodes = selection.selectAll('g.node');\n\n  svgNodes.each(function (v) {\n    var node = g.node(v);\n    var thisGroup = d3.select(this);\n    util.applyClass(\n      thisGroup,\n      node['class'],\n      (thisGroup.classed('update') ? 'update ' : '') + 'node'\n    );\n\n    thisGroup.select('g.label').remove();\n    var labelGroup = thisGroup.append('g').attr('class', 'label');\n    var labelDom = addLabel(labelGroup, node);\n    var shape = shapes[node.shape];\n    var bbox = _.pick(labelDom.node().getBBox(), 'width', 'height');\n\n    node.elem = this;\n\n    if (node.id) {\n      thisGroup.attr('id', node.id);\n    }\n    if (node.labelId) {\n      labelGroup.attr('id', node.labelId);\n    }\n\n    if (_.has(node, 'width')) {\n      bbox.width = node.width;\n    }\n    if (_.has(node, 'height')) {\n      bbox.height = node.height;\n    }\n\n    bbox.width += node.paddingLeft + node.paddingRight;\n    bbox.height += node.paddingTop + node.paddingBottom;\n    labelGroup.attr(\n      'transform',\n      'translate(' +\n        (node.paddingLeft - node.paddingRight) / 2 +\n        ',' +\n        (node.paddingTop - node.paddingBottom) / 2 +\n        ')'\n    );\n\n    var root = d3.select(this);\n    root.select('.label-container').remove();\n    var shapeSvg = shape(root, bbox, node).classed('label-container', true);\n    util.applyStyle(shapeSvg, node.style);\n\n    var shapeBBox = shapeSvg.node().getBBox();\n    node.width = shapeBBox.width;\n    node.height = shapeBBox.height;\n  });\n\n  var exitSelection;\n\n  if (svgNodes.exit) {\n    exitSelection = svgNodes.exit();\n  } else {\n    exitSelection = svgNodes.selectAll(null); // empty selection\n  }\n\n  util.applyTransition(exitSelection, g).style('opacity', 0).remove();\n\n  return svgNodes;\n};\n\nfunction setCreateNodes(value) {\n  createNodes = value;\n}\n","export { intersectEllipse };\n\nfunction intersectEllipse(node, rx, ry, point) {\n  // Formulae from: http://mathworld.wolfram.com/Ellipse-LineIntersection.html\n\n  var cx = node.x;\n  var cy = node.y;\n\n  var px = cx - point.x;\n  var py = cy - point.y;\n\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n\n  var dx = Math.abs((rx * ry * px) / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs((rx * ry * py) / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n\n  return { x: cx + dx, y: cy + dy };\n}\n","import { intersectCircle } from './intersect/intersect-circle.js';\nimport { intersectEllipse } from './intersect/intersect-ellipse.js';\nimport { intersectPolygon } from './intersect/intersect-polygon.js';\nimport { intersectRect } from './intersect/intersect-rect.js';\n\nexport { shapes, setShapes };\n\nvar shapes = {\n  rect,\n  ellipse,\n  circle,\n  diamond,\n};\n\nfunction setShapes(value) {\n  shapes = value;\n}\n\nfunction rect(parent, bbox, node) {\n  var shapeSvg = parent\n    .insert('rect', ':first-child')\n    .attr('rx', node.rx)\n    .attr('ry', node.ry)\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('width', bbox.width)\n    .attr('height', bbox.height);\n\n  node.intersect = function (point) {\n    return intersectRect(node, point);\n  };\n\n  return shapeSvg;\n}\n\nfunction ellipse(parent, bbox, node) {\n  var rx = bbox.width / 2;\n  var ry = bbox.height / 2;\n  var shapeSvg = parent\n    .insert('ellipse', ':first-child')\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('rx', rx)\n    .attr('ry', ry);\n\n  node.intersect = function (point) {\n    return intersectEllipse(node, rx, ry, point);\n  };\n\n  return shapeSvg;\n}\n\nfunction circle(parent, bbox, node) {\n  var r = Math.max(bbox.width, bbox.height) / 2;\n  var shapeSvg = parent\n    .insert('circle', ':first-child')\n    .attr('x', -bbox.width / 2)\n    .attr('y', -bbox.height / 2)\n    .attr('r', r);\n\n  node.intersect = function (point) {\n    return intersectCircle(node, r, point);\n  };\n\n  return shapeSvg;\n}\n\n// Circumscribe an ellipse for the bounding box with a diamond shape. I derived\n// the function to calculate the diamond shape from:\n// http://mathforum.org/kb/message.jspa?messageID=3750236\nfunction diamond(parent, bbox, node) {\n  var w = (bbox.width * Math.SQRT2) / 2;\n  var h = (bbox.height * Math.SQRT2) / 2;\n  var points = [\n    { x: 0, y: -h },\n    { x: -w, y: 0 },\n    { x: 0, y: h },\n    { x: w, y: 0 },\n  ];\n  var shapeSvg = parent.insert('polygon', ':first-child').attr(\n    'points',\n    points\n      .map(function (p) {\n        return p.x + ',' + p.y;\n      })\n      .join(' ')\n  );\n\n  node.intersect = function (p) {\n    return intersectPolygon(node, points, p);\n  };\n\n  return shapeSvg;\n}\n","import { intersectEllipse } from './intersect-ellipse.js';\n\nexport { intersectCircle };\n\nfunction intersectCircle(node, rx, point) {\n  return intersectEllipse(node, rx, rx, point);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport { layout } from '../dagre/index.js';\nimport { arrows, setArrows } from './arrows.js';\nimport { createClusters, setCreateClusters } from './create-clusters.js';\nimport { createEdgeLabels, setCreateEdgeLabels } from './create-edge-labels.js';\nimport { createEdgePaths, setCreateEdgePaths } from './create-edge-paths.js';\nimport { createNodes, setCreateNodes } from './create-nodes.js';\nimport { positionClusters } from './position-clusters.js';\nimport { positionEdgeLabels } from './position-edge-labels.js';\nimport { positionNodes } from './position-nodes.js';\nimport { shapes, setShapes } from './shapes.js';\n\nexport { render };\n\n// This design is based on http://bost.ocks.org/mike/chart/.\nfunction render() {\n  var fn = function (svg, g) {\n    preProcessGraph(g);\n\n    var outputGroup = createOrSelectGroup(svg, 'output');\n    var clustersGroup = createOrSelectGroup(outputGroup, 'clusters');\n    var edgePathsGroup = createOrSelectGroup(outputGroup, 'edgePaths');\n    var edgeLabels = createEdgeLabels(createOrSelectGroup(outputGroup, 'edgeLabels'), g);\n    var nodes = createNodes(createOrSelectGroup(outputGroup, 'nodes'), g, shapes);\n\n    layout(g);\n\n    positionNodes(nodes, g);\n    positionEdgeLabels(edgeLabels, g);\n    createEdgePaths(edgePathsGroup, g, arrows);\n\n    var clusters = createClusters(clustersGroup, g);\n    positionClusters(clusters, g);\n\n    postProcessGraph(g);\n  };\n\n  fn.createNodes = function (value) {\n    if (!arguments.length) return createNodes;\n    setCreateNodes(value);\n    return fn;\n  };\n\n  fn.createClusters = function (value) {\n    if (!arguments.length) return createClusters;\n    setCreateClusters(value);\n    return fn;\n  };\n\n  fn.createEdgeLabels = function (value) {\n    if (!arguments.length) return createEdgeLabels;\n    setCreateEdgeLabels(value);\n    return fn;\n  };\n\n  fn.createEdgePaths = function (value) {\n    if (!arguments.length) return createEdgePaths;\n    setCreateEdgePaths(value);\n    return fn;\n  };\n\n  fn.shapes = function (value) {\n    if (!arguments.length) return shapes;\n    setShapes(value);\n    return fn;\n  };\n\n  fn.arrows = function (value) {\n    if (!arguments.length) return arrows;\n    setArrows(value);\n    return fn;\n  };\n\n  return fn;\n}\n\nvar NODE_DEFAULT_ATTRS = {\n  paddingLeft: 10,\n  paddingRight: 10,\n  paddingTop: 10,\n  paddingBottom: 10,\n  rx: 0,\n  ry: 0,\n  shape: 'rect',\n};\n\nvar EDGE_DEFAULT_ATTRS = {\n  arrowhead: 'normal',\n  curve: d3.curveLinear,\n};\n\nfunction preProcessGraph(g) {\n  g.nodes().forEach(function (v) {\n    var node = g.node(v);\n    if (!_.has(node, 'label') && !g.children(v).length) {\n      node.label = v;\n    }\n\n    if (_.has(node, 'paddingX')) {\n      _.defaults(node, {\n        paddingLeft: node.paddingX,\n        paddingRight: node.paddingX,\n      });\n    }\n\n    if (_.has(node, 'paddingY')) {\n      _.defaults(node, {\n        paddingTop: node.paddingY,\n        paddingBottom: node.paddingY,\n      });\n    }\n\n    if (_.has(node, 'padding')) {\n      _.defaults(node, {\n        paddingLeft: node.padding,\n        paddingRight: node.padding,\n        paddingTop: node.padding,\n        paddingBottom: node.padding,\n      });\n    }\n\n    _.defaults(node, NODE_DEFAULT_ATTRS);\n\n    _.each(['paddingLeft', 'paddingRight', 'paddingTop', 'paddingBottom'], function (k) {\n      node[k] = Number(node[k]);\n    });\n\n    // Save dimensions for restore during post-processing\n    if (_.has(node, 'width')) {\n      node._prevWidth = node.width;\n    }\n    if (_.has(node, 'height')) {\n      node._prevHeight = node.height;\n    }\n  });\n\n  g.edges().forEach(function (e) {\n    var edge = g.edge(e);\n    if (!_.has(edge, 'label')) {\n      edge.label = '';\n    }\n    _.defaults(edge, EDGE_DEFAULT_ATTRS);\n  });\n}\n\nfunction postProcessGraph(g) {\n  _.each(g.nodes(), function (v) {\n    var node = g.node(v);\n\n    // Restore original dimensions\n    if (_.has(node, '_prevWidth')) {\n      node.width = node._prevWidth;\n    } else {\n      delete node.width;\n    }\n\n    if (_.has(node, '_prevHeight')) {\n      node.height = node._prevHeight;\n    } else {\n      delete node.height;\n    }\n\n    delete node._prevWidth;\n    delete node._prevHeight;\n  });\n}\n\nfunction createOrSelectGroup(root, name) {\n  var selection = root.select('g.' + name);\n  if (selection.empty()) {\n    selection = root.append('g').attr('class', name);\n  }\n  return selection;\n}\n","import * as d3 from 'd3';\nimport * as util from './util.js';\n\nexport { positionNodes };\n\nfunction positionNodes(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(v) {\n    var node = g.node(v);\n    return 'translate(' + node.x + ',' + node.y + ')';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n}\n","import * as d3 from 'd3';\nimport * as _ from 'lodash-es';\nimport * as util from './util.js';\n\nexport { positionEdgeLabels };\n\nfunction positionEdgeLabels(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(e) {\n    var edge = g.edge(e);\n    return _.has(edge, 'x') ? 'translate(' + edge.x + ',' + edge.y + ')' : '';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n}\n","import * as d3 from 'd3';\nimport * as util from './util.js';\n\nexport { positionClusters };\n\nfunction positionClusters(selection, g) {\n  var created = selection.filter(function () {\n    return !d3.select(this).classed('update');\n  });\n\n  function translate(v) {\n    var node = g.node(v);\n    return 'translate(' + node.x + ',' + node.y + ')';\n  }\n\n  created.attr('transform', translate);\n\n  util.applyTransition(selection, g).style('opacity', 1).attr('transform', translate);\n\n  util\n    .applyTransition(created.selectAll('rect'), g)\n    .attr('width', function (v) {\n      return g.node(v).width;\n    })\n    .attr('height', function (v) {\n      return g.node(v).height;\n    })\n    .attr('x', function (v) {\n      var node = g.node(v);\n      return -node.width / 2;\n    })\n    .attr('y', function (v) {\n      var node = g.node(v);\n      return -node.height / 2;\n    });\n}\n","/* IMPORT */\nimport _ from '../utils/index.js';\nimport Color from '../color/index.js';\n/* MAIN */\nconst channel = (color, channel) => {\n    return _.lang.round(Color.parse(color)[channel]);\n};\n/* EXPORT */\nexport default channel;\n"],"names":["intersectLine","p1","p2","q1","q2","a1","a2","b1","b2","c1","c2","r1","r2","r3","r4","denom","offset","num","y","x","sameSign","Math","abs","intersectPolygon","node","polyPoints","point","x1","y1","intersections","minX","Number","POSITIVE_INFINITY","minY","forEach","entry","min","left","width","top","height","i","length","intersect","push","sort","p","q","pdx","pdy","distp","sqrt","qdx","qdy","distq","console","log","intersectRect","sx","sy","dx","dy","w","h","addHtmlLabel","root","fo","append","attr","div","label","insert","html","util","labelStyle","style","client","getBoundingClientRect","isSubgraph","g","v","children","edgeToId","e","escapeId","name","ID_DELIM","str","String","replace","applyStyle","dom","styleFn","applyClass","classFn","otherClasses","applyTransition","selection","graph","_","transition","value","baseClone","write","json","options","directed","isDirected","multigraph","isMultigraph","compound","isCompound","nodes","writeNodes","edges","writeEdges","nodeValue","parent","edgeValue","edge","arrows","normal","id","type","path","vee","undirected","addLabel","location","labelSvg","labelType","domNode","appendChild","addSVGLabel","lines","text","ch","newText","escaped","processEscapeSequences","split","addTextLabel","labelBBox","getBBox","createClusters","clusters","filter","svgClusters","selectAll","data","exit","remove","enterSelection","enter","each","thisGroup","d3","this","clusterLabelPos","merge","c","domCluster","createEdgeLabels","exitSelection","svgEdgeLabels","classed","select","bbox","labelId","intersectNode","createEdgePaths","previousPaths","newPaths","svgPaths","svgPathsEnter","sourceElem","elem","createLine","points","map","matrix","ownerSVGElement","getScreenCTM","inverse","multiply","translate","f","getCoords","svgPathExit","undefined","domEdge","arrowheadId","url","href","fragmentId","tail","head","slice","unshift","calcPoints","arrowhead","line","d","curve","interpolate","createNodes","shapes","simpleNodes","svgNodes","labelGroup","labelDom","shape","paddingLeft","paddingRight","paddingTop","paddingBottom","shapeSvg","shapeBBox","intersectEllipse","rx","ry","cx","cy","px","py","det","rect","ellipse","circle","r","max","intersectCircle","diamond","SQRT2","join","render","fn","svg","paddingX","paddingY","padding","NODE_DEFAULT_ATTRS","k","_prevWidth","_prevHeight","EDGE_DEFAULT_ATTRS","preProcessGraph","outputGroup","createOrSelectGroup","clustersGroup","edgePathsGroup","edgeLabels","layout","positionNodes","positionEdgeLabels","created","positionClusters","postProcessGraph","arguments","setCreateNodes","setCreateClusters","setCreateEdgeLabels","setCreateEdgePaths","setShapes","setArrows","empty","channel","color","lang","round","Color","parse"],"sourceRoot":""}